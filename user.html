<html>
<body style="background-color:#f3f4f6">	
<link rel = "stylesheet" type = "text/css"  href="https://cdn.rawgit.com/shubhod/client/master/profilepic.css">
<link href="https://fonts.googleapis.com/css?family=Dosis:600|Lobster+Two|Pacifico" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="C:\Users\shubhodeep\social\public\profilepic.css"><link rel = "stylesheet" type = "text/css"  href="https://cdn.rawgit.com/shubhod/client/master/bootstrap.min.css">
<link rel = "stylesheet" type = "text/css"  href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">	
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<link href="https://fonts.googleapis.com/css?family=Lato:700|Lobster|Noto+Serif" rel="stylesheet">
<script src="https://cdn.rawgit.com/shubhod/client/master/handlebars-v4.0.10.js"></script>
<script src="/socket.io/socket.io.js"></script>	
<script src="https://cdn.rawgit.com/Codeinwp/carouFredSel-jQuery/master/jquery.carouFredSel-6.2.1.js" type="text/javascript"></script>
 <script src="https://cdn.rawgit.com/Codeinwp/carouFredSel-jQuery/master/jquery.carouFredSel-6.2.1.js" type="text/javascript"></script>		
<link rel = "stylesheet" type = "text/css"  href="font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="css\font-awesome.css">	
<nav style="background-color:white; border: 0;" class="navbar navbar-default">
 <div id="navbarCollapse" class="collapse navbar-collapse"> 	    
        <ul class="nav navbar-nav navbar-right">
	        <li ><a style="" href="#"><b>home</b></a></li>
            <li><a style="margin-right:80px; " href="#"><b>profile</b></a></li>   
	   <li><textarea class="navbar_textarea" placeholder="&#xf002;"></textarea></li>     
            <li style="padding-right: 40px;"></li>
	   <li><i style="padding-top: 12px; margin-right:10px ;margin-left: 40px; ; " class="fa fa-envelope" aria-hidden="true"></i></li>
	   <li><i style="padding-top: 12px; margin-right:10px;" class="fa fa-bell" aria-hidden="true"></i></li>
	   <li><i style="padding-top: 12px; margin-right:40px"class="fa fa-user-plus" aria-hidden="true"></i></li>    
        </ul>
 </div>
</nav>
<div class="row">
<div style="background-color:;margin-left:50px;margin-right:60px;  height:500px;" class="col-md-2">	
<div class="Rectangle_1">
<center><div><img id="img"></div><i id="userdummy" class="fa fa-user-circle-o" aria-hidden="true"></i>
<h1></h1>	
</center>
</div>
</div>
<div class="col-md-5" >
<div class="container-fluid">
<div class="upper-part" ></div>	
<div class="box">
<textarea style="font-size:30px; font-family: 'Lato', sans-serif;border:0;" class="col-md-5sub"type="text"></textarea>
<hr>	
<button class="postbutton"><b>post</b></button>
<button class="uploadbutton"><b>upload</b></button>	
</div>
<div class="box" id="friendsugession"style="margin-top:20px; "></div>	
</div>	
</div>
<div  style="background-color: height:500px;" class=col-md-2></div> 	
</div>		
</body>
<script>
var socket=io();
socket.on('connect',()=>{
console.log("connected");	
socket.on('displaypic',(data)=>{
 $(document).ready(()=>{
   $('#img').attr("src",data);
   $('.Rectangle_1 #userdummy').hide();	 
	 
 });

});
socket.on('username',(data)=>{
console.log(data);	
$(".Rectangle_1 h1").html(data).attr("value",data);	
});
socket.on('requests',(data)=>{
console.log("request from:"+data);	
});	
var location=[];	
socket.on('friendSuggestions',(sugession)=>{
console.log(sugession);	
location.push(sugession);	
if(location.length>1)
	{
console.log(location);		
for(i=0;i<location[0].length-1;i++)
{
    for(j=0;j<location[1].length-1;j++)
      {
       if(location[0][i].username===location[1][j].username)
       {
	    
	   location[0].splice(i,1);
	         
       }
  
     
       }
}
	}
var people=[];
var flag=1;	
if(location.length>1)
{ console.log(JSON.stringify(location[0][2]));
   console.log(JSON.stringify(location[1][3]));
var i=0;
while(i<2)
{ 
  var x=location[i][(location[i].length)-1];
  if(x==="workplace")
       { 
           
	for(j=0;j<location[i].length-1;j++)
	     {
		people.push(location[i][j]);     
	     }
        if(i==0)
	{	
	console.log("hiii");
		
	}
	if(i==1)
	{
           flag=0;
	  console.log("hoo");	
	}
      	      
        break;
        
       }	
  i++;	
}	
console.log(i);
if(flag==1)
{  
   i=1;	
}
if(flag==0)
{  
    i=0;	
}
for(k=0;k<location[i].length-1;k++)
 {
  people.push(location[i][k]);   	 
 }
console.log("people"+people);
$('document').ready(()=>{
for(i=0; i<people.length;i++)
{	
$('#friendsugession').append('<div class="deep"></div>');	
}
var k=0;	
var x=$('#friendsugession').children().each(function(){
         $(this).html(people[k].username+'<br>');
	$(this).attr("name",people[k].username);
	$(this).append('<button  class="postbutto">send request</button');
	if(people[k].displaypic)
	{
          $(this).append('<img id="pic">');
	 $('#pic').attr("src",people[k].displaypic);
	}
	else
	{
	$(this).append('<i id="userdummy" class="fa fa-user-circle-o" aria-hidden="true">');	
	}

	k++;
});
$('#friendsugession button').on('click',function(){
	var friend=$(this).parent().attr("name");
         var user=$(".Rectangle_1 h1").attr("value");	
         var obj={
	from:user,
	to:friend	
	}
       console.log(obj);	
       socket.emit('friendrequest',obj);
});	
});		
}
//   $(document).ready(function() { 
//    // Using default configuration 
//    $('#friendsugession').carouFredSel(); 
//     // Using custom configuration 
//    $('#friendsugession').carouFredSel({ 
//        items                : 3, 
//        direction            : "up", 
//        scroll : { 
//            items            : 1, 
//            easing           : "elastic", 
//            duration         : 500, 
//            pauseOnHover     : true 
//        } 
//    }); 
//});	
});	
});		
</script>
<style>
.Rectangle_1 img
{
margin-top: 50px;
border: 2px solid red;
border-radius: 77px;	
}
.deep
{
  border: 2px solid red;
  height: 180px;
  width:  150px;	
}
.postbutto
{
 background-color:#ff5466;
 height: 30px;
 width: 120px;
 border-radius: 2px;	
 border: 1px solid #ff5466;
 box-shadow: 0px 0px  2px  1px #c5d5cb;	
 margin-top:-5px;
 color: whitesmoke;
 font-size: 13px;font-family: 'Lobster Two', cursive;	
/* text-shadow: 0px 0px 3px white;	*/
}	
</style>	
</html>